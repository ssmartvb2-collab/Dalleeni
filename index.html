<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Dalleeni - ูุญุฑู ุงูุญูู ุงูุนููุงู</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@700&display=swap" rel="stylesheet">
</head>
<body class="bg-slate-900 text-white font-['Cairo'] p-8">

    <div class="max-w-3xl mx-auto text-center glass p-10 rounded-[3rem] border border-slate-700">
        <h1 class="text-4xl font-black text-indigo-400 mb-6">Dalleeni Data Engine ๐</h1>
        <p class="mb-8 text-slate-400">ูุฐุง ุงููุญุฑู ุณูููู ุจุญูู ุขูุงู ุงููุทุงุนู ูู ูุงุนุฏุฉ ุจูุงูุงุชู (Firebase) ูุชุบุทู ูุงูุฉ ูุญุงูุธุงุช ุงูุนุฑุงู.</p>
        
        <div id="progressBox" class="hidden mb-6">
            <div class="w-full bg-slate-700 rounded-full h-4 mb-2">
                <div id="progressBar" class="bg-indigo-500 h-4 rounded-full transition-all" style="width: 0%"></div>
            </div>
            <p id="statusText" class="text-sm text-indigo-300">ุฌุงุฑู ุงูุจุฏุก...</p>
        </div>

        <button onclick="startMassInjection()" id="startBtn" class="bg-indigo-600 hover:bg-indigo-500 px-10 py-5 rounded-2xl font-bold text-xl transition-all shadow-2xl">
            ุจุฏุก ุญูู 10,000 ูุทุนู ุจุงูุนุฑุงู
        </button>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        const firebaseConfig = {
          apiKey: "AIzaSyB81ZOJkG4NADQ4-EjVINZz0iQZtOp0DXM",
          authDomain: "dalleeni.firebaseapp.com",
          projectId: "dalleeni",
          storageBucket: "dalleeni.firebasestorage.app",
          messagingSenderId: "881397546450",
          appId: "1:881397546450:web:63041090cea9abcee6dc0b"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        window.startMassInjection = async () => {
            const btn = document.getElementById('startBtn');
            const progressBox = document.getElementById('progressBox');
            const bar = document.getElementById('progressBar');
            const text = document.getElementById('statusText');

            btn.classList.add('hidden');
            progressBox.classList.remove('hidden');

            const cities = [
                { name: "ุจุบุฏุงุฏ", lat: 33.3152, lng: 44.3661 },
                { name: "ุงูุจุตุฑุฉ", lat: 30.5081, lng: 47.7835 },
                { name: "ุฃุฑุจูู", lat: 36.1901, lng: 44.0091 },
                { name: "ุงูููุตู", lat: 36.3489, lng: 43.1265 },
                { name: "ุงููุฌู", lat: 32.0259, lng: 44.3463 },
                { name: "ูุฑุจูุงุก", lat: 32.6160, lng: 44.0249 },
                { name: "ุจุงุจู", lat: 32.4833, lng: 44.4333 },
                { name: "ุงูุณูููุงููุฉ", lat: 35.5617, lng: 45.4333 }
            ];

            const types = ["ูุดููุงุช", "ุงูู ุจุญุฑู", "ุจูุชุฒุง", "ุจุฑุฌุฑ", "ุงูู ุดุนุจู", "ุญูููุงุช", "ูุงููู"];

            // ุณูููู ุจุญูู ุงูุจูุงูุงุช ุนูู ุฏูุนุงุช (Batches)
            for (let i = 1; i <= 1000; i++) { // ุฌุฑุจ 1000 ุฃููุงู ููุชุฃูุฏ ูู ุณุฑุนุฉ ุงูุณูุฑูุฑ
                const randomCity = cities[Math.floor(Math.random() * cities.length)];
                const randomType = types[Math.floor(Math.random() * types.length)];
                
                await addDoc(collection(db, "places"), {
                    Name: `${randomType} ${randomCity.name} ุงูุญุฏูุซ`,
                    location: `${randomCity.name} - ุงูููุทูุฉ ${Math.floor(Math.random() * 100)}`,
                    Price: ["ุฑุฎูุต", "ูุชูุณุท", "ูุงุฎุฑ"][Math.floor(Math.random() * 3)],
                    lat: randomCity.lat + (Math.random() - 0.5) * 0.1,
                    lng: randomCity.lng + (Math.random() - 0.5) * 0.1,
                    createdAt: new Date()
                });

                if (i % 10 === 0) {
                    const percent = (i / 1000) * 100;
                    bar.style.width = percent + '%';
                    text.innerText = `ุชู ุญูู ${i} ูุทุนู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช...`;
                }
            }
            text.innerText = "โ ุงูุชูู ุงูุญูู! ูุงุนุฏุฉ ุจูุงูุงุชู ุงูุขู ูููุฆุฉ ุจุงููุทุงุนู.";
        };
    </script>
</body>
</html>
